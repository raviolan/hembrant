<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMs Lighthouse</title>
    <link rel="stylesheet" type="text/css" href="dms-den.css" />
</head>

<body>
    <div class="dragon-container">
        <a href="dragon-story.html"> <img src="dms-images/dragon.gif" alt="Flying Dragon" class="dragon"></a>
    </div>
    <div class="welcome-container">
        <h1 id="typing-text">Where are you headed?</h1>
    </div>
    <script src="dms-den.js"></script>
    </div>
    <!-- Image Map Generated by http://www.image-map.net/ -->
    <section class="map-image">
        <img src="dms-images/stormwreck-isle-half.png" usemap="#image-map">
        <map name="image-map">
            <area target="" alt="sword-wreck" title="sword-wreck" href="#" data-original-coords="244,194,205,154"
                shape="rect">
            <area target="" alt="secret-island" title="secret-island" href="secret-island.html"
                data-original-coords="507,142,493,164,502,189,527,194,538,178,532,154" shape="poly">
            <area target="" alt="eye-caves" title="eye-caves" href="#" data-original-coords="206,446,22" shape="circle">
            <area target="" alt="green-observatory" title="green-observatory" href="#" data-original-coords="443,477,21"
                shape="circle">
            <area target="" alt="door-rest" title="door-rest" href="#" data-original-coords="338,331,305,297"
                shape="rect">
        </map>

    </section>
    <script>
        document.addEventListener("DOMContentLoaded", adjustMapAreas);
        window.addEventListener("resize", adjustMapAreas);

        function adjustMapAreas() {
            const img = document.querySelector('.map-image img');
            const originalWidth = 800; // Replace this with your original image width
            const originalHeight = 600; // Replace this with your original image height

            // Calculate the scaling factors
            const scaleX = img.clientWidth / originalWidth;
            const scaleY = img.clientHeight / originalHeight;

            // Set an offset for mobile (only applied when screen width is less than 768px)
            const offsetX = window.innerWidth < 768 ? -10 : 0; // Adjust -10 to your preference for how much leftward offset you need

            // Update each area based on the scale and offset
            document.querySelectorAll('area').forEach((area) => {
                const coords = area.getAttribute('data-original-coords').split(',').map(Number);
                const newCoords = coords.map((value, index) =>
                    index % 2 === 0
                        ? Math.round(value * scaleX) + offsetX // Apply the offset to X coordinates
                        : Math.round(value * scaleY)
                );
                area.coords = newCoords.join(',');
            });
        }
    </script>




    <section class="treasures">
        <a href="#">Coming Soon<img src="dms-images/little-chest.png" alt="treasure chest"></a>
        <a href="caves.html">Maze of Choices<img src="dms-images/shrooms.png" style="cursor: pointer;"></a>
        <a href="bonus-map.html">Whispered directions<img src="dms-images/compass.png" alt=""></a>
        <a href="#" id="dice-link">Test your fortune<img src="dms-images/dice-sprite.png" alt="dice sprite"></a>
        <a href="../drink-the-kool-aid.html">Back to Entrance<img src="../hembrant-images/magic-potion-bottle.png"
                alt="back to home"></a>
        <a href="dms-lighthouse.html">Back to DM's Den<img src="dms-images/campfire.png" alt="Back to Lighthouse"></a>

        <!-- Dice Roll Container -->
        <div class="dice-container" id="dice-container">
            <div class="dice" id="dice">ðŸ‘¹</div>
            <div class="result" id="result"></div>
        </div>
    </section>

    </section>


    <!----------------------SCRIPTS------------------------------------------------->